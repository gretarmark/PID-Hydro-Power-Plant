function [D1out,D2out,D3out] = AnalogOpening2(u,Dmax1Gate)



    if u < 0
        D1 = 0; D2 = 0; D3 = 0;
    elseif (u>=0) && (u<11.1111) % Skipting 1
        D1 = u;
        D2 = 0;
        D3 = 0;
    elseif u>=11.1111 && u<22.2222
        D2 = u-11.1111; 
        D1 = 11.1110;
        D3 = 0;
    elseif u>=22.2222 && u<33.3333
        D3 = u-22.2222;
        D1 = 11.1110;
        D2 = 11.1110;
    elseif u>=33.3333 && u<44.4444 % Skipting 2
        D1 = 11.1110 + (u-33.3333); % u=40 gefur 17.781
        D2 = 11.1110;
        D3 = 11.1110;
    elseif u>=44.4444 && u<55.5555
        D2 = 11.1110 + (u-44.4444); 
        D1 = 22.2220;
        D3 = 11.1110;
    elseif u>=55.5555 && u<66.6666
        D3 = 11.1110 + (u-55.5555);
        D1 = 22.2220;
        D2 = 22.2220;
    elseif u>=66.6666 && u<77.7777 % Skipting 3
        D1 = 22.2220 + (u-66.6666); % u=70 gefur 25.56
        D2 = 22.2220;
        D3 = 22.2220;
    elseif u>=77.7777 && u<88.8888
        D2 = 22.2220 + (u-77.7777);
        D1 = 33.3330;
        D3 = 22.2220;
    elseif u>=88.8888 && u<=100
        D3 = 22.2220 + (u-88.8888);
        D1 = 33.3330;
        D2 = 33.3330;
    else
        D1 = 33.3330;
        D2 = 33.3330;
        D3 = 33.3330;
    end

    D1out = D1*(Dmax1Gate*0.01);
    D2out = D2*(Dmax1Gate*0.01);
    D3out = D3*(Dmax1Gate*0.01);

end